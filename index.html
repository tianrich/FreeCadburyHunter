<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1.0">
<title>Cadbury Intelligence Hub — LIVE WAR ROOM</title>
<meta name="description" content="Real-time Cadbury Secret Santa sniper. Never miss free chocolate again.">
<meta name="theme-color" content="#7c3aed">
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@400;500;600;700&family=JetBrains+Mono:wght@400;600&display=swap" rel="stylesheet">

<!-- Font Awesome 6 CDN -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css" integrity="sha512-Kc323vGBEqzTmouAECnVceyQqyqdsSiqLQISBL29aUW4U/M7pSPA/gEUZQqv1cwx4OnYxTxve5UMg5GT6L4JJg==" crossorigin="anonymous" referrerpolicy="no-referrer" />

<script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.9.2/dist/confetti.browser.min.js"></script>
<style>
:root{--p:#7c3aed;--pd:#6d28d9;--a:#fbbf24;--bg:#09090b;--s:#18181b;--sl:#27272a;--b:#3f3f46;--t:#fafafa;--tm:#a1a1aa;--ok:#22c55e;--no:#ef4444;--w:#f59e0b;}
*{margin:0;padding:0;box-sizing:border-box}
body{background:var(--bg);font-family:'Space Grotesk',sans-serif;color:var(--t);line-height:1.6;overflow-x:hidden}
.grid-bg{position:fixed;inset:0;background-image:linear-gradient(var(--b) 1px,transparent 1px),linear-gradient(90deg,var(--b) 1px,transparent 1px);background-size:50px 50px;opacity:0.15;pointer-events:none;z-index:0}
.header{background:rgba(24,24,27,0.95);backdrop-filter:blur(20px);border-bottom:1px solid var(--b);position:sticky;top:0;z-index:1000}
.header-content{max-width:1800px;margin:0 auto;padding:16px 32px;display:flex;align-items:center;justify-content:space-between;flex-wrap:wrap;gap:16px}
.brand{display:flex;align-items:center;gap:16px}
.brand-logo{width:48px;height:48px}
.brand-text h1{font-size:24px;font-weight:700;letter-spacing:-0.7px}
.brand-text p{font-size:13px;color:var(--tm);font-family:'JetBrains Mono',monospace}
.status-live{display:flex;align-items:center;gap:10px;padding:10px 18px;background:rgba(34,197,94,0.15);border:1px solid rgba(34,197,94,0.4);border-radius:30px;font-family:'JetBrains Mono',monospace;font-weight:700;font-size:14px;color:var(--ok)}
.dot{width:10px;height:10px;background:var(--ok);border-radius:50%;animation:pulse 2s infinite}
@keyframes pulse{0%,100%{opacity:1}50%{opacity:0.4}}
.container{max-width:1800px;margin:0 auto;padding:32px;position:relative;z-index:1}
h2{font-size:32px;font-weight:700;text-align:center;margin-bottom:32px;background:linear-gradient(90deg,var(--p),var(--a));-webkit-background-clip:text;-webkit-text-fill-color:transparent}
.stats{display:grid;grid-template-columns:repeat(auto-fit,minmax(260px,1fr));gap:24px;margin:40px 0}
.stat{background:var(--s);border:1px solid var(--b);border-radius:16px;padding:28px;text-align:center;transition:all .3s}
.stat:hover{transform:translateY(-8px);border-color:var(--p);box-shadow:0 15px 40px rgba(124,58,237,0.3)}
.stat-label{font-size:14px;color:var(--tm);text-transform:uppercase;letter-spacing:2px;margin-bottom:12px}
.stat-value{font-size:48px;font-weight:700;font-family:'JetBrains Mono',monospace}
.main{display:grid;grid-template-columns:1fr 420px;gap:32px;margin-top:40px}
.panel{background:var(--s);border:1px solid var(--b);border-radius:16px;overflow:hidden}
.panel-header{padding:24px 32px;border-bottom:1px solid var(--b);display:flex;justify-content:space-between;align-items:center}
.panel-title{font-size:20px;font-weight:700;display:flex;align-items:center;gap:14px}
.badge{background:var(--p);color:#fff;padding:8px 16px;border-radius:30px;font-size:12px;font-weight:700;font-family:'JetBrains Mono',monospace}
.feed{max-height:720px;overflow-y:auto;padding:0}
.feed::-webkit-scrollbar{width:8px}.feed::-webkit-scrollbar-track{background:transparent}.feed::-webkit-scrollbar-thumb{background:var(--b);border-radius:4px}
.item{padding:24px 32px;border-bottom:1px solid var(--b);transition:.2s}
.item:hover{background:rgba(124,58,237,0.08)}
.item:last-child{border-bottom:none}
.item-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:10px}
.status{display:flex;align-items:center;gap:10px;font-weight:700;font-family:'JetBrains Mono',monospace;font-size:14px}
.icon{width:24px;height:24px;border-radius:6px;display:flex;align-items:center;justify-content:center;font-size:13px}
.s-success{color:var(--ok)}.s-success .icon{background:rgba(34,197,94,0.15)}
.s-missed{color:var(--w)}.s-missed .icon{background:rgba(245,158,11,0.15)}
.s-error{color:var(--no)}.s-error .icon{background:rgba(239,68,68,0.15)}
.time{font-size:13px;color:var(--tm);font-family:'JetBrains Mono',monospace}
.message{font-size:15px;margin:12px 0}
.claim{background:linear-gradient(135deg,var(--p),var(--pd));color:#fff;padding:14px 28px;border-radius:10px;font-weight:700;text-decoration:none;display:inline-flex;align-items:center;gap:12px;transition:all .3s;box-shadow:0 6px 20px rgba(124,58,237,0.5)}
.claim:hover{transform:scale(1.06);box-shadow:0 12px 30px rgba(124,58,237,0.7)}

/* ICON-ONLY SOCIAL BUTTONS */
.social-grid{display:grid;grid-template-columns:repeat(4,1fr);gap:20px;margin-top:32px;justify-items:center}
.social-btn{width:68px;height:68px;border-radius:50%;display:flex;align-items:center;justify-content:center;color:#fff;font-size:28px;text-decoration:none;transition:all .3s;box-shadow:0 8px 25px rgba(0,0,0,0.5);position:relative}
.social-btn:hover{transform:translateY(-8px) scale(1.12);box-shadow:0 20px 40px rgba(0,0,0,0.7)}
.social-btn i{position:absolute}
.x{background:#000}
.twitter{background:#1da1f2}
.facebook{background:#1877f2}
.whatsapp{background:#25d366}
.telegram{background:#0088cc}
.reddit{background:#ff4500}
.discord{background:#5865f2}
.copy{background:var(--p);background:linear-gradient(135deg,var(--p),var(--pd))}

.bmc-btn{background:#FFDD00;color:#000!important;padding:14px 28px;border-radius:12px;font-weight:700;text-decoration:none;display:inline-flex;align-items:center;gap:10px;font-size:16px;transition:all .3s;box-shadow:0 6px 20px rgba(255,221,0,0.4);margin:20px auto;display:block;width:fit-content}
.bmc-btn:hover{transform:scale(1.07);background:#FFD000}
.toast{position:fixed;top:100px;right:32px;background:var(--s);border:2px solid var(--ok);border-radius:16px;padding:24px 32px;min-width:400px;box-shadow:0 20px 60px rgba(0,0,0,0.7);z-index:9999;display:none;animation:slide .4s ease}
@keyframes slide{from{transform:translateX(150%);opacity:0}to{transform:translateX(0);opacity:1}}
.footer{margin-top:80px;padding:40px;text-align:center;border-top:1px solid var(--b);color:var(--tm);font-size:15px}
@media(max-width:1200px){.main{grid-template-columns:1fr}}
@media(max-width:768px){.social-grid{grid-template-columns:repeat(4,1fr);gap:16px}}
</style>
</head>
<body>
<div class="grid-bg"></div>

<div class="header">
  <div class="header-content">
    <div class="brand">
      <div class="brand-logo">
        <svg viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">
          <defs><linearGradient id="g" x1="0%" y1="0%" x2="100%" y2="100%"><stop offset="0%" stop-color="#7c3aed"/><stop offset="100%" stop-color="#fbbf24"/></linearGradient></defs>
          <rect width="48" height="48" rx="12" fill="url(#g)" opacity="0.2"/>
          <path d="M24 10L14 18V30L24 38L34 30V18L24 10Z" fill="url(#g)" stroke="url(#g)" stroke-width="2.5"/>
          <circle cx="24"inizi cy="24" r="6" fill="#09090b"/>
          <circle cx="24" cy="24" r="3.5" fill="url(#g)"/>
        </svg>
      </div>
      <div class="brand-text">
        <h1>Cadbury Intelligence Hub</h1>
        <p>SECRET SANTA SNIPER v2 — LIVE</p>
      </div>
    </div>
    <div class="status-live"><div class="dot"></div><span>ARMED & HUNTING</span></div>
  </div>
</div>

<div class="container">
  <h2>Live Secret Santa Hub</h2>

  <div class="stats">
    <div class="stat"><div class="stat-label">Links Scanned</div><div class="stat-value" id="scanned">0</div></div>
    <div class="stat"><div class="stat-label">Chocolate Secured</div><div class="stat-value" id="success">0</div></div>
    <div class="stat"><div class="stat-label">War Room Uptime</div><div class="stat-value" id="uptime">00:00:00</div></div>
    <div class="stat"><div class="stat-label">Last Hit</div><div class="stat-value" id="last">Standby</div></div>
  </div>

  <div class="main">
    <div class="panel">
      <div class="panel-header">
        <div class="panel-title">Live Surveillance Feed</div>
        <div class="badge">REAL-TIME</div>
      </div>
      <div class="feed" id="feed">
        <div class="item">
          <div class="item-header">
            <div class="status s-success"><div class="icon"><i class="fas fa-check"></i></div>SYSTEM ONLINE</div>
            <div class="time">Just now</div>
          </div>
          <div class="message">Sniper activated. Monitoring 20+ endpoints every 60 seconds.</div>
        </div>
      </div>
    </div>

    <div style="display:flex;flex-direction:column;gap:32px">
      <div class="panel">
        <div style="padding:40px;text-align:center">

          <h3 style="font-size:26px;margin:12px 0">Live Chocolate Hub</h3>
          <p style="color:var(--tm);margin-bottom:16px">
  Thanks to <a href="https://x.com/PapaRichens" target="_blank" style="color:#fbbf24;font-weight:600;text-decoration:none;">@PapaRichens</a>
</p>

          <a href="https://x.com/PapaRichens" target="_blank" style="background:#000;color:#fff;padding:14px 32px;border-radius:12px;text-decoration:none;font-weight:700;display:inline-block;margin:8px">
            Follow on X
          </a>

          <a href="https://buymeacoffee.com/paparichens" target="_blank" class="bmc-btn">
            <i class="fas fa-coffee"></i> Buy Me a Coffee
          </a>
          <p style="margin-top:16px;font-size:13px;color:var(--tm)">Keep the sniper fueled ☕</p>

          <!-- ICON-ONLY SHARE GRID -->
          <div style="margin-top:40px">
            <p style="margin-bottom:16px;font-weight:700;color:var(--a)">SPREAD THE WORD</p>
            <div class="social-grid">
              <a href="#" onclick="shareX();return false" class="social-btn x" title="Share on X"><i class="fab fa-x-twitter"></i></a>
              <a href="#" onclick="shareFacebook();return false" class="social-btn facebook" title="Share on Facebook"><i class="fab fa-facebook-f"></i></a>
              <a href="#" onclick="shareWhatsApp();return false" class="social-btn whatsapp" title="Share on WhatsApp"><i class="fab fa-whatsapp"></i></a>
              <a href="#" onclick="shareTelegram();return false" class="social-btn telegram" title="Share on Telegram"><i class="fab fa-telegram-plane"></i></a>
              <a href="#" onclick="shareReddit();return false" class="social-btn reddit" title="Share on Reddit"><i class="fab fa-reddit-alien"></i></a>
              <a href="#" onclick="shareDiscord();return false" class="social-btn discord" title="Share on Discord"><i class="fab fa-discord"></i></a>
              <a href="#" onclick="copyLink();return false" class="social-btn copy" title="Copy Link"><i class="fas fa-copy"></i></a>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<div class="footer">
  Cadbury Intelligence HUB • Built by <a href="https://x.com/PapaRichens" target="_blank" style="color:#fbbf24">x.com/PapaRichens</a> • 2025 Season • Free Chocolate or Die
</div>

<div class="toast" id="toast">
  <div style="font-size:50px;margin-bottom:12px">FREE CHOCOLATE SECURED</div>
  <div style="font-size:18px">Click the button in the feed → instant redemption</div>
</div>

<audio id="alert" src="https://cdn.freesound.org/previews/612/612558_5674468-lq.mp3" preload="auto"></audio>

<script>
const start = Date.now();
let scanned = 0, success = 0;
const currentUrl = encodeURIComponent(window.location.href);
const profileUrl = "https://x.com/PapaRichens";

// Uptime counter
setInterval(() => {
  const s = Math.floor((Date.now() - start) / 1000);
  const h = String(Math.floor(s / 3600)).padStart(2, "0");
  const m = String(Math.floor((s % 3600) / 60)).padStart(2, "0");
  const sec = String(s % 60).padStart(2, "0");
  document.getElementById("uptime").textContent = `${h}:${m}:${sec}`;
}, 1000);

// SSE
const es = new EventSource("/events");
es.onmessage = function(e) {
  try {
    const entries = JSON.parse(e.data);
    entries.forEach(entry => {
      scanned++;
      document.getElementById("scanned").textContent = scanned.toLocaleString();
      const time = entry.time;
      const final = entry.final || "";
      const status = entry.status;

      if (status === "SUCCESS") {
        success++;
        document.getElementById("success").textContent = success;
        document.getElementById("last").textContent = time;
        addItem("success", time, "CHOCOLATE SECURED — ACTIVE LINK DETECTED", final);
        celebrate();
        showToast();
        document.getElementById("alert").play().catch(()=>{});
      } else if (status === "missed") {
        addItem("missed", time, "Link expired — someone else got it");
      } else if (status === "error") {
        addItem("error", time, "Network glitch — retrying");
      }
    });
  } catch (err) { console.error(err); }
};

function addItem(type, time, msg, link = null) {
  const feed = document.getElementById("feed");
  const div = document.createElement("div");
  div.className = "item";
  const statusClass = type === "success" ? "s-success" : type === "missed" ? "s-missed" : "s-error";
  const statusText = type === "success" ? "SECURED" : type === "missed" ? "EXPIRED" : "ERROR";
  const icon = type === "success" ? "✓" : type === "missed" ? "!" : "✕";
  const btn = link ? `<a href="${link}" target="_blank" class="claim" onclick="confetti({particleCount:500,spread:110})">CLAIM FREE CHOCOLATE NOW</a>` : "";
  div.innerHTML = `
    <div class="item-header">
      <div class="status ${statusClass}"><div class="icon">${icon}</div>${statusText}</div>
      <div class="time">${time}</div>
    </div>
    <div class="message">${msg}${btn}</div>
  `;
  feed.insertBefore(div, feed.firstChild);
  if (feed.children.length > 100) feed.removeChild(feed.lastChild);
}

function celebrate() {
  confetti({particleCount: 500, spread: 100, origin: { y: 0.55 }, colors: ["#7c3aed","#fbbf24","#22c55e"]});
}

function showToast() {
  const t = document.getElementById("toast");
  t.style.display = "block";
  setTimeout(() => t.style.display = "none", 8000);
}

// CLEAN SHARE MESSAGES (no @, credit via URL only)
function shareX() {
  const text = `Just grabbed my free Cadbury chocolate with the Secret Santa code! Chocolate credit to ${profileUrl}\n#CadburySecretSanta`;
  window.open(`https://x.com/intent/post?text=${encodeURIComponent(text)}`, "_blank");
}

function shareFacebook() {
  const quote = `Free Cadbury bar claimed! Chocolate Just dropped - thanks to ${profileUrl}`;
  window.open(`https://www.facebook.com/sharer/sharer.php?u=${currentUrl}&quote=${encodeURIComponent(quote)}`, "_blank");
}

function shareWhatsApp() {
  const text = `Just got my free Cadbury chocolate through Secret Santa! Chocolate → thanks to ${profileUrl}\nCome get yours:\n${window.location.href}`;
  window.open(`https://wa.me/?text=${encodeURIComponent(text)}`, "_blank");
}

function shareTelegram() {
  const text = `Free Cadbury chocolate secured! → thanks to ${profileUrl}\n${window.location.href}`;
  window.open(`https://t.me/share/url?url=${currentUrl}&text=${encodeURIComponent(text)}`, "_blank");
}

function shareReddit() {
  const title = "Just claimed my free Cadbury bar  → thanks to ${profileUrl";
  window.open(`https://reddit.com/submit?url=${profileUrl}&title=${encodeURIComponent(title)}`, "_blank");
}

function shareDiscord() {
  const message = `${window.location.href}\n\nJust grabbed my free Cadbury chocolate! Chocolat → thanks to ${profileUrl}\nGo get yours before it's gone!`;
  navigator.clipboard.writeText(message);
  alert("Copied to clipboard – ready to paste in Discord!");
}

function copyLink() {
  navigator.clipboard.writeText(window.location.href);
  alert("Link copied!");
}
</script>
</body>
</html>
